smpswriter converts a deterministic equivalent of a two-stage stochastic
programming (SP) problem written in AMPL to an SP problem in SMPS format.
It is written as an AMPL solver but can be used as a stand-alone program
to convert .nl files (requires .col and .row files as well) into SMPS.

Usage:
  smpswriter <nl-file>

To be convertible to SMPS with smpswriter the AMPL problem should satisfy
the following requirements:

1. Second-stage variables should be marked with "suffix stage 2":

   var sell{Crops, Scenarios} >= 0, suffix stage 2;

2. Second-stage variables and constraints should be indexed over a scenario
   set which should be the last index:

   set Scenarios;
   var sell{Crops, Scenarios} >= 0, suffix stage 2;
   s.t. quota{s in Scenarios}: sell['beets', s] <= BeetsQuota;

3. Objective should contain at least one second-stage variable, no random
   (scenario-dependent) parameters and expression should have the form of
   expectation:
 
   param P{Scenarios}; # probabilities
   maximize profit: sum{s in Scenarios} P[s] * (
     ExcessSellingPrice * sellExcess[s] +
     sum{c in Crops} (SellingPrice[c] * sell[c, s] -
                      PurchasePrice[c] * buy[c, s]) -
     sum{c in Crops} PlantingCost[c] * area[c]);
